# Component monitor configuration for dry-run testing
# Modify this file to test the components you want to monitor
# Note: Update URLs to match your environment (localhost URLs won't work in Kubernetes pods)
frequency: 20s
components:
  - component_slug: "ship-status"
    sub_component_slug: "frontend"
    http_monitor:
      url: "https://ship-status.ci.openshift.org/"
      code: 200
      retry_after: 5s
  - component_slug: "prow"
    sub_component_slug: "deck"
    http_monitor:
      url: "https://prow.ci.openshift.org/"
      code: 200
      retry_after: 5s
    prometheus_monitor:
      prometheus_location:
        cluster: "in-cluster"
        namespace: "openshift-monitoring"
        route: "thanos-querier"
      queries:
        - query: "max(up{job=\"deck\"}) > 0"
          duration: "5m"
          step: "30s"