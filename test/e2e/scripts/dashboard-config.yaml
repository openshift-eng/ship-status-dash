components:
  - name: Prow
    description: Backbone of the CI system
    ship_team: TestPlatform
    slack_reporting:
      - channel: "#test-channel"
        severity: "Down"
    sub_components:
      - name: Tide
        description: Merges PRs
        requires_confirmation: true
        tags:
          - ci
          - pr-merging
      - name: Deck
        description: The frontend for Prow
        requires_confirmation: false
        tags:
          - frontend
      - name: Hook
        description: Webhook handler for Prow
        requires_confirmation: false
        tags:
          - ci
          - github
        monitoring:
          frequency: 5m
          component_monitor: "app-ci-component-monitor"
          auto_resolve: true
      - name: Plank
        description: Job execution controller for Prow
        requires_confirmation: false
        tags:
          - ci
          - jobs
        monitoring:
          frequency: 5m
          component_monitor: "app-ci-component-monitor"
          auto_resolve: false
    owners:
      - user: developer
      - user: editor
      - service_account: system:serviceaccount:ship-status:component-monitor
  - name: Downstream CI
    description: Downstream CI system
    ship_team: TestPlatform
    slack_reporting:
      - channel: "#test-channel"
        severity: "Down"
    sub_components:
      - name: Retester
        description: Retests failed jobs
        requires_confirmation: false
        tags:
          - ci
          - jobs
        monitoring:
          frequency: 5s
          component_monitor: "app-ci-component-monitor"
          auto_resolve: true
    owners:
      - user: developer
      - service_account: system:serviceaccount:ship-status:component-monitor
  - name: Build Farm
    description: Where the CI jobs are run
    ship_team: DPTP
    slack_reporting:
      - channel: "#ops-testplatform"
        severity: "Down"
    sub_components:
      - name: Build01
        description: AWS build farm cluster
        tags:
          - ci
          - jobs
          - aws
      - name: Build02
        description: GCP build farm cluster
        tags:
          - ci
          - jobs
          - gcp
    owners:
      - user: other-developer
  # The Sippy component is used during the component monitor e2e tests
  - name: Sippy
    description: CI private investigator
    ship_team: TRT
    slack_reporting:
      - channel: "#trt-alert"
        severity: "Down"
    sub_components:
      - name: Sippy
        description: CI private investigator
        monitoring:
          frequency: 30s
          component_monitor: "e2e-component-monitor"
          auto_resolve: true
      - name: api
        description: API success rate
        monitoring:
          frequency: 10s
          component_monitor: "e2e-component-monitor"
          auto_resolve: true
      - name: data-load
        description: Data load
        monitoring:
          frequency: 10s
          component_monitor: "e2e-component-monitor"
          auto_resolve: true
      - name: sippy-chat
        description: Chat component for Sippy
        monitoring:
          auto_resolve: true
          component_monitor: e2e-component-monitor
          frequency: 10s
      - name: error-handling-test
        description: Test sub-component for error handling
        monitoring:
          frequency: 10s
          component_monitor: "e2e-component-monitor"
          auto_resolve: true
    owners:
      - user: developer
      - service_account: system:serviceaccount:ship-status:component-monitor